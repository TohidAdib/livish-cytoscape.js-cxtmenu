!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.cytoscapeCxtmenu=t():e.cytoscapeCxtmenu=t()}(self,(function(){return e={658:e=>{e.exports=null!=Object.assign?Object.assign.bind(Object):function(e,...t){return t.filter((e=>null!=e)).forEach((t=>{Object.keys(t).forEach((n=>e[n]=t[n]))})),e}},435:(e,t,n)=>{const i=n(376),o=n(658),{removeEles:a,setStyles:l,createElement:d,getPixelRatio:s,getOffset:r}=n(936);e.exports=function(e){let t,n,c,u,h=o({},i,e),p=this,g=p.container(),m={options:h,handlers:[],container:d({class:"cxtmenu"})},f=m.container,P=d(),x=d({tag:"canvas"}),b=[],v=[],y=x.getContext("2d"),M=h.menuRadius,S=2*(M+h.activePadding)+2*M;function C(e){B.drawBg=[e]}function w(e){e=void 0!==e?e:F,y.globalCompositeOperation="source-over",y.clearRect(0,0,S,S),y.fillStyle=h.fillColor;let t=2*Math.PI/b.length,n=Math.PI/2,i=n+t;for(let e of b)e.fillColor&&(y.fillStyle=e.fillColor),y.beginPath(),y.moveTo(2*M+h.activePadding,2*M+h.activePadding),y.arc(2*M+h.activePadding,2*M+h.activePadding,M,2*Math.PI-n,2*Math.PI-i,!0),y.closePath(),y.fill(),n+=t,i+=t,y.fillStyle=h.fillColor;y.globalCompositeOperation="destination-out",y.strokeStyle="white",y.lineWidth=h.separatorWidth,n=Math.PI/2,i=n+t;for(let e=0;e<b.length;e++){let e=M*Math.cos(n),o=M*Math.sin(n);y.beginPath(),y.moveTo(2*M+h.activePadding,2*M+h.activePadding),y.lineTo(2*M+h.activePadding+e,2*M+h.activePadding-o),y.closePath(),y.stroke(),n+=t,i+=t}y.fillStyle="white",y.globalCompositeOperation="destination-out",y.beginPath(),y.arc(2*M+h.activePadding,2*M+h.activePadding,e+h.spotlightPadding,0,2*Math.PI,!0),y.closePath(),y.fill(),y.globalCompositeOperation="source-over"}function I(e,t,i){let o=2*Math.PI/b.length,a=Math.PI/2,l=a+o;a+=o*n,l+=o*n,y.fillStyle=h.activeFillColor,y.strokeStyle="black",y.lineWidth=1,y.beginPath(),y.moveTo(2*M+h.activePadding,2*M+h.activePadding),y.arc(2*M+h.activePadding,2*M+h.activePadding,M+h.activePadding,2*Math.PI-a,2*Math.PI-l,!0),y.closePath(),y.fill(),y.fillStyle="white",y.globalCompositeOperation="destination-out";let d=2*M+h.activePadding+e/M*(F+h.spotlightPadding-h.indicatorSize/4),s=2*M+h.activePadding+t/M*(F+h.spotlightPadding-h.indicatorSize/4),r=Math.PI/4-i;y.translate(d,s),y.rotate(r),y.beginPath(),y.fillRect(-h.indicatorSize/2,-h.indicatorSize/2,h.indicatorSize,h.indicatorSize),y.closePath(),y.fill(),y.rotate(-r),y.translate(-d,-s),y.beginPath(),y.arc(2*M+h.activePadding,2*M+h.activePadding,F+h.spotlightPadding,0,2*Math.PI,!0),y.closePath(),y.fill()}function T(e,t,n){B.drawSubmenuBg=[e,t,n]}function E(e,t,i){let o,a,l=2*Math.PI/b.length,d=l/v.length;y.fillStyle=h.activeFillColor,o=Math.PI/2,a=o+l,o+=l*n,a+=l*n,y.beginPath(),y.moveTo(2*M+h.activePadding,2*M+h.activePadding),y.arc(2*M+h.activePadding,2*M+h.activePadding,M,2*Math.PI-o,2*Math.PI-a,!0),y.closePath(),y.fill(),y.fillStyle="white",y.globalCompositeOperation="destination-out";let s=2*M+h.activePadding+e/M*(F+h.spotlightPadding-h.indicatorSize/4),r=2*M+h.activePadding+t/M*(F+h.spotlightPadding-h.indicatorSize/4),c=Math.PI/4-i;y.translate(s,r),y.rotate(c),y.beginPath(),y.fillRect(-h.indicatorSize/2,-h.indicatorSize/2,h.indicatorSize,h.indicatorSize),y.closePath(),y.fill(),y.rotate(-c),y.translate(-s,-r),y.beginPath(),y.arc(2*M+h.activePadding,2*M+h.activePadding,F+h.spotlightPadding,0,2*Math.PI,!0),y.closePath(),y.fill(),y.globalCompositeOperation="source-over",y.strokeStyle=h.fillColor,o=Math.PI/2,a=o+d,o+=l*n,a+=l*n;for(let e of v)e.fillColor&&(y.strokeStyle=e.fillColor),y.lineWidth=M-h.spotlightPadding,y.moveTo(2*M+h.activePadding,2*M+h.activePadding),y.beginPath(),y.arc(2*M+h.activePadding,2*M+h.activePadding,1.5*M,2*Math.PI-o,2*Math.PI-a,!0),y.stroke(),o+=d,a+=d,y.fillStyle=h.fillColor;y.globalCompositeOperation="destination-out",y.strokeStyle="white",y.lineWidth=h.separatorWidth,o=Math.PI/2,a=o+d,o+=l*n,a+=l*n;for(let e=0;e<v.length;e++){let e=M*Math.cos(o),t=M*Math.sin(o);y.beginPath(),y.moveTo(2*M+h.activePadding+e,2*M+h.activePadding-t),y.lineTo(2*M+h.activePadding+2*e,2*M+h.activePadding-2*t),y.closePath(),y.stroke(),o+=d,a+=d}}function z(){y.globalCompositeOperation="source-over";let e=2*Math.PI/b.length,t=e/v.length,i=Math.PI/2,o=i+t;i+=e*n+t*c,o+=e*n+t*c,y.strokeStyle=h.activeFillColor,y.lineWidth=M-h.spotlightPadding,y.moveTo(2*M+h.activePadding,2*M+h.activePadding),y.beginPath(),y.arc(2*M+h.activePadding,2*M+h.activePadding,1.5*M+h.activePadding,2*Math.PI-i,2*Math.PI-o,!0),y.stroke()}function R(){let e=s(),t=S,n=S;x.width=t*e,x.height=n*e,x.style.width=t+"px",x.style.height=n+"px",y.setTransform(1,0,0,1,0,0),y.scale(e,e)}g.insertBefore(f,g.firstChild),f.appendChild(P),P.appendChild(x),l(f,{position:"absolute",marginLeft:-S/4+"px",marginTop:-S/4+"px",zIndex:h.zIndex,userSelect:"none",pointerEvents:"none"}),["mousedown","mousemove","mouseup","contextmenu"].forEach((e=>{f.addEventListener(e,(e=>(e.preventDefault(),!1)))})),l(P,{display:"none",width:S+"px",height:S+"px",position:"absolute",zIndex:1,marginLeft:-h.activePadding+"px",marginTop:-h.activePadding+"px",userSelect:"none"}),x.width=S,x.height=S;let k,O,F,L=!0,B={},W=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||(e=>setTimeout(e,16)),j=()=>{B.drawBg&&w.apply(null,B.drawBg),B.drawCommands&&I.apply(null,B.drawCommands),B.drawSubmenuBg&&E.apply(null,B.drawSubmenuBg),B.drawSubmenuCommands&&z.apply(null,B.drawSubmenuCommands),B={},L&&W(j)};R(),j();let A={on:function(e,t,n){let i=n;return"core"===t&&(i=function(e){if(e.cyTarget===p||e.target===p)return n.apply(this,[e])}),m.handlers.push({events:e,selector:t,fn:i}),"core"===t?p.on(e,i):p.on(e,t,i),this}};function $(){n=void 0,c=void 0}function q(e){let t=document.getElementsByClassName(`cxtmenu-${e}-submenu-content`);for(let e of t)l(e,{display:"table-cell"})}return function(){let e,i,o,s,m,f=!1,x=()=>{e&&t.grabify(),i&&p.userZoomingEnabled(!0),o&&p.userPanningEnabled(!0),s&&p.boxSelectionEnabled(!0)};window.addEventListener("resize",R),A.on("resize",(()=>{R()})).on(h.openMenuEvents,h.selector,(function(c){t=this;let v=this,y=this===p;if(f&&(P.style.display="none",f=!1,x()),"function"==typeof h.commands){const e=h.commands(t);e.then?e.then((e=>{b=e,S()})):(b=e,S())}else b=h.commands,S();function S(){if(!b||0===b.length)return;let x,S,w;i=p.userZoomingEnabled(),p.userZoomingEnabled(!1),o=p.userPanningEnabled(),p.userPanningEnabled(!1),s=p.boxSelectionEnabled(),p.boxSelectionEnabled(!1),e=t.grabbable&&t.grabbable(),e&&t.ungrabify(),y||!v.isNode()||v.isParent()||h.atMouse?(x=c.renderedPosition||c.cyRenderedPosition,S=1,w=1):(x=v.renderedPosition(),S=v.renderedWidth(),w=v.renderedHeight()),u=r(g),k=x.x,O=x.y,function(){a(".cxtmenu-item",P);let e=2*Math.PI/b.length,t=Math.PI/2,n=t+e;for(let i of b){let o=(t+n)/2,a=.66*M*Math.cos(o),s=.66*M*Math.sin(o),r=d({class:"cxtmenu-item"});l(r,{color:h.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":"-1px -1px 2px "+h.itemTextShadowColor+", 1px -1px 2px "+h.itemTextShadowColor+", -1px 1px 2px "+h.itemTextShadowColor+", 1px 1px 1px "+h.itemTextShadowColor,left:"50%",top:"50%","min-height":.66*M+"px",width:.66*M+"px",height:.66*M+"px",marginLeft:a-.33*M+"px",marginTop:-s-.33*M+"px"});let c=d({class:"cxtmenu-content"});i.content instanceof HTMLElement?c.appendChild(i.content):c.innerHTML=i.content,l(c,{width:.66*M+"px",height:.66*M+"px","vertical-align":"middle",display:"table-cell"}),l(c,i.contentStyle||{}),!1===i.enabled&&c.setAttribute("class","cxtmenu-content cxtmenu-disabled"),P.appendChild(r),r.appendChild(c),t+=e,n+=e}}(),function(){let e=2*Math.PI/b.length,t=Math.PI/2,n=t+e;for(let i=0;i<b.length;i++){let o=b[i];if(o.submenu){let a=e/o.submenu.length;n=t+a;for(let e=0;e<o.submenu.length;e++){let s=o.submenu[e],r=(t+n)/2,c=1.4*M*Math.cos(r),u=1.4*M*Math.sin(r),p=d({class:"cxtmenu-item"});l(p,{color:h.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":`-1px -1px 2px ${h.itemTextShadowColor}, 1px -1px 2px ${h.itemTextShadowColor}, -1px 1px 2px ${h.itemTextShadowColor}, 1px 1px 1px ${h.itemTextShadowColor}`,left:"50%",top:"50%","min-height":.66*M+"px",width:.66*M+"px",height:.66*M+"px",marginLeft:c-.33*M+"px",marginTop:-u-.33*M+"px"});let g=d({class:`cxtmenu-content cxtmenu-submenu-content cxtmenu-${i}-submenu-content`});s.content instanceof HTMLElement?g.appendChild(s.content):g.innerHTML=s.content,l(g,{width:.66*M+"px",height:.66*M+"px","vertical-align":"middle",display:"none"}),l(g,o.contentStyle||{}),!1===s.enabled&&g.setAttribute("class",`cxtmenu-content cxtmenu-submenu-content cxtmenu-${i}-submenu-content cxtmenu-disabled`),P.appendChild(p),p.appendChild(g),t+=a,n+=a}}else t+=e,n+=e}}(),l(P,{display:"block",left:x.x-M+"px",top:x.y-M+"px"}),F=Math.max(S,w)/2,F=Math.max(F,h.minSpotlightRadius),F=Math.min(F,h.maxSpotlightRadius),C(),n=void 0,f=!0,m=c}})).on("cxtdrag tapdrag",h.selector=e=>{if(!f)return;let t=e.originalEvent,i=t.touches&&t.touches.length>0,o=i?t.touches[0].pageX:t.pageX,a=i?t.touches[0].pageY:t.pageY;n=void 0;let d=o-u.left-k,s=a-u.top-O;0===d&&(d=.01);let r=Math.sqrt(d*d+s*s),p=(s*s-r*r-d*d)/(-2*r*d),g=Math.acos(p),m=d*M/r,P=s*M/r;s>0&&(g=Math.PI+Math.abs(g-Math.PI));let x=2*Math.PI/b.length,y=Math.PI/2,S=y+x;for(let e=0;e<b.length;e++){let t=b[e];v=t.submenu?t.submenu:[];let i=y<=g&&g<=S||y<=g+2*Math.PI&&g+2*Math.PI<=S;if(!1===t.enabled&&(i=!1),i){n=e;break}y+=x,S+=x}if(function(){let e=document.getElementsByClassName("cxtmenu-submenu-content");for(let t of e)l(t,{display:"none"})}(),void 0!==b[n]){if(r<F+h.spotlightPadding||r>h.menuRadius&&!b[n].submenu)return C(),void $();if(r>F+h.spotlightPadding&&r<h.menuRadius)return C(),void(b[n].submenu?(q(n),T(m,P,g)):function(e,t,n){B.drawCommands=[e,t,n]}(m,P,g));if(r<2*h.menuRadius&&r>h.menuRadius&&b[n].submenu){q(n),v=b[n].submenu,C();let e=x/v.length,t=Math.PI/2,i=t+e;t+=x*n,i+=x*n;for(let o=0;o<v.length;o++){let a=b[n].submenu[o],l=t<=g&&g<=i||t<=g+2*Math.PI&&g+2*Math.PI<=i;if(!1===a.enabled&&(l=!1,c=void 0),l){c=o;break}t+=e,i+=e}return T(m,P,g),void(B.drawSubmenuCommands=[])}}$(),C()}).on("cxttapend tapend",(function(){if(P.style.display="none",void 0!==n){let e=b[n].select;e?(e.apply(t,[t,m]),n=void 0):b[n].submenu&&void 0!==c&&(b[n].submenu[c].select.apply(t,[t,m]),n=void 0,c=void 0)}f=!1,x()}))}(),{destroy:()=>(L=!1,function(){for(let e of m.handlers)"core"===e.selector?p.off(e.events,e.fn):p.off(e.events,e.selector,e.fn);window.removeEventListener("resize",R)}(),void f.remove())}}},376:e=>{e.exports={menuRadius:100,selector:"node",commands:[],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:0,indicatorSize:24,separatorWidth:3,spotlightPadding:4,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttap",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1}},936:e=>{const t=function(e,t){let n=Object.keys(t);for(let i=0,o=n.length;i<o;i++)e.style[n[i]]=t[n[i]]};e.exports={removeEles:function(e,t=document){let n=t.querySelectorAll(e);for(let e=0;e<n.length;e++){let t=n[e];t.parentNode.removeChild(t)}},setStyles:t,createElement:function(e){e=e||{};let n=document.createElement(e.tag||"div");return n.className=e.class||"",e.style&&t(n,e.style),n},getPixelRatio:function(){return window.devicePixelRatio||1},getOffset:function(e){let t=e.getBoundingClientRect();return{left:t.left+document.body.scrollLeft+parseFloat(getComputedStyle(document.body)["padding-left"])+parseFloat(getComputedStyle(document.body)["border-left-width"]),top:t.top+document.body.scrollTop+parseFloat(getComputedStyle(document.body)["padding-top"])+parseFloat(getComputedStyle(document.body)["border-top-width"])}}}},579:(e,t,n)=>{const i=n(435);let o=function(e){e&&e("core","cxtmenu",i)};"undefined"!=typeof cytoscape&&o(cytoscape),e.exports=o}},t={},function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}(579);var e,t}));